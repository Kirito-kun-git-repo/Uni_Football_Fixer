"use strict";(self.webpackChunkfootball_fixer_frontend=self.webpackChunkfootball_fixer_frontend||[]).push([[95],{95:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(43),i=a(198),l=a(579);const d=function(){const[e,t]=(0,n.useState)([]),[a,d]=(0,n.useState)(!1),[s,c]=(0,n.useState)(""),[r,m]=(0,n.useState)(null),[o,h]=(0,n.useState)({name:"",college:""}),u=async()=>{d(!0),c("");try{const e=await i.A.get("/admin/teams");t(e.data)}catch(e){c("Failed to fetch teams")}finally{d(!1)}};(0,n.useEffect)(()=>{u()},[]);const x=e=>h({...o,[e.target.name]:e.target.value});return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Teams"}),s&&(0,l.jsx)("div",{style:{color:"red"},children:s}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{r?await i.A.put(`/admin/teams/${r._id}`,o):await i.A.post("/admin/teams",o),h({name:"",college:""}),m(null),u()}catch{c("Failed to save team")}},style:{marginBottom:16},children:[(0,l.jsx)("input",{name:"name",value:o.name,onChange:x,placeholder:"Team Name",required:!0}),(0,l.jsx)("input",{name:"college",value:o.college,onChange:x,placeholder:"College",required:!0}),(0,l.jsx)("button",{type:"submit",children:r?"Update":"Create"}),r&&(0,l.jsx)("button",{type:"button",onClick:()=>{m(null),h({name:"",college:""})},children:"Cancel"})]}),a?(0,l.jsx)("div",{children:"Loading..."}):(0,l.jsxs)("table",{border:"1",cellPadding:"8",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"College"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:e.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:e.college}),(0,l.jsxs)("td",{children:[(0,l.jsx)("button",{onClick:()=>(e=>{m(e),h({name:e.name,college:e.college})})(e),children:"Edit"}),(0,l.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this team?"))try{await i.A.delete(`/admin/teams/${e}`),u()}catch{c("Failed to delete team")}})(e._id),children:"Delete"})]})]},e._id))})]})]})};const s=function(){const[e,t]=(0,n.useState)([]),[a,d]=(0,n.useState)(!1),[s,c]=(0,n.useState)(""),[r,m]=(0,n.useState)(null),[o,h]=(0,n.useState)({teamA:"",teamB:"",date:"",matchTime:""}),u=async()=>{d(!0),c("");try{const e=await i.A.get("/admin/matches");t(e.data)}catch(e){c("Failed to fetch matches")}finally{d(!1)}};(0,n.useEffect)(()=>{u()},[]);const x=e=>h({...o,[e.target.name]:e.target.value});return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Matches"}),s&&(0,l.jsx)("div",{style:{color:"red"},children:s}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{r?await i.A.put(`/admin/matches/${r._id}`,o):await i.A.post("/admin/matches",o),h({teamA:"",teamB:"",date:"",matchTime:""}),m(null),u()}catch{c("Failed to save match")}},children:[(0,l.jsx)("input",{type:"text",name:"teamA",placeholder:"Team A",value:o.teamA,onChange:x,required:!0}),(0,l.jsx)("input",{type:"text",name:"teamB",placeholder:"Team B",value:o.teamB,onChange:x,required:!0}),(0,l.jsx)("input",{type:"date",name:"date",value:o.date,onChange:x,required:!0}),(0,l.jsx)("input",{type:"time",name:"matchTime",value:o.matchTime,onChange:x,required:!0}),(0,l.jsx)("button",{type:"submit",children:r?"Update":"Create"}),r&&(0,l.jsx)("button",{type:"button",onClick:()=>{m(null),h({teamA:"",teamB:"",date:"",matchTime:""})},children:"Cancel"})]}),a?(0,l.jsx)("div",{children:"Loading..."}):(0,l.jsxs)("table",{border:"1",cellPadding:"8",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Date"}),(0,l.jsx)("th",{children:"Time"}),(0,l.jsx)("th",{children:"Team A"}),(0,l.jsx)("th",{children:"Team B"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:e.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.date}),(0,l.jsx)("td",{children:e.matchTime}),(0,l.jsx)("td",{children:e.teamA}),(0,l.jsx)("td",{children:e.teamB}),(0,l.jsxs)("td",{children:[(0,l.jsx)("button",{onClick:()=>(e=>{m(e),h({teamA:e.teamA,teamB:e.teamB,date:e.date,matchTime:e.matchTime})})(e),children:"Edit"}),(0,l.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this match?"))try{await i.A.delete(`/admin/matches/${e}`),u()}catch{c("Failed to delete match")}})(e._id),children:"Delete"})]})]},e._id))})]})]})};const c=function(){const[e,t]=(0,n.useState)([]),[a,d]=(0,n.useState)(!1),[s,c]=(0,n.useState)(""),[r,m]=(0,n.useState)(null),[o,h]=(0,n.useState)({email:"",name:"",password:""}),u=async()=>{d(!0),c("");try{const e=await i.A.get("/admin/admins");t(e.data)}catch(e){c("Failed to fetch admins")}finally{d(!1)}};(0,n.useEffect)(()=>{u()},[]);const x=e=>h({...o,[e.target.name]:e.target.value});return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Admins"}),s&&(0,l.jsx)("div",{style:{color:"red"},children:s}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{r?await i.A.put(`/admin/admins/${r._id}`,o):await i.A.post("/admin/admins",o),h({email:"",name:"",password:""}),m(null),u()}catch{c("Failed to save admin")}},style:{marginBottom:16},children:[(0,l.jsx)("input",{name:"email",value:o.email,onChange:x,placeholder:"Email",required:!0}),(0,l.jsx)("input",{name:"name",value:o.name,onChange:x,placeholder:"Name",required:!0}),(0,l.jsx)("input",{name:"password",value:o.password,onChange:x,placeholder:"Password",type:"password",required:!r}),(0,l.jsx)("button",{type:"submit",children:r?"Update":"Create"}),r&&(0,l.jsx)("button",{type:"button",onClick:()=>{m(null),h({email:"",name:"",password:""})},children:"Cancel"})]}),a?(0,l.jsx)("div",{children:"Loading..."}):(0,l.jsxs)("table",{border:"1",cellPadding:"8",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Email"}),(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:e.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.email}),(0,l.jsx)("td",{children:e.name}),(0,l.jsxs)("td",{children:[(0,l.jsx)("button",{onClick:()=>(e=>{m(e),h({email:e.email,name:e.name,password:""})})(e),children:"Edit"}),(0,l.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this admin?"))try{await i.A.delete(`/admin/admins/${e}`),u()}catch{c("Failed to delete admin")}})(e._id),children:"Delete"})]})]},e._id))})]})]})},r=[{name:"Teams",component:(0,l.jsx)(d,{})},{name:"Matches",component:(0,l.jsx)(s,{})},{name:"Admins",component:(0,l.jsx)(c,{})}];const m=function(){const[e,t]=(0,n.useState)(0);return(0,l.jsxs)("div",{style:{padding:24},children:[(0,l.jsx)("h2",{children:"Admin Dashboard"}),(0,l.jsx)("div",{style:{display:"flex",gap:16,marginBottom:24},children:r.map((a,n)=>(0,l.jsx)("button",{onClick:()=>t(n),style:{fontWeight:e===n?"bold":"normal"},children:a.name},a.name))}),(0,l.jsx)("div",{children:r[e].component})]})}}}]);
//# sourceMappingURL=95.ce835380.chunk.js.map