{"code":"ETIMEOUT","hostname":"_mongodb._tcp.cluster0.7ofsv.mongodb.net","level":"error","message":"Error connecting to MongoDB: querySrv ETIMEOUT _mongodb._tcp.cluster0.7ofsv.mongodb.net","service":"media-service","stack":"Error: querySrv ETIMEOUT _mongodb._tcp.cluster0.7ofsv.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"querySrv","timestamp":"2025-08-20T09:13:31.779Z"}
{"level":"error","message":" Unknown Error uploading file: Multipart: Boundary not found","service":"media-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:38:16)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:15:9\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-08-20T10:59:04.052Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:250:15)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:27:32\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","service":"media-service","timestamp":"2025-08-20T10:59:04.057Z"}
{"level":"error","message":" Unknown Error uploading file: Multipart: Boundary not found","service":"media-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:38:16)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:15:9\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-08-20T11:00:57.117Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:250:15)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:27:32\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","service":"media-service","timestamp":"2025-08-20T11:00:57.120Z"}
{"level":"error","message":" Unknown Error uploading file: Multipart: Boundary not found","service":"media-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:38:16)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:16:9\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-08-20T11:01:46.340Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:250:15)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:28:32\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","service":"media-service","timestamp":"2025-08-20T11:01:46.346Z"}
{"level":"error","message":" Unknown Error uploading file: Multipart: Boundary not found","service":"media-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:38:16)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:16:9\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-08-20T11:06:27.680Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:250:15)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:28:32\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","service":"media-service","timestamp":"2025-08-20T11:06:27.688Z"}
{"level":"error","message":" Unknown Error uploading file: Multipart: Boundary not found","service":"media-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:38:16)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:16:9\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-08-20T11:08:47.652Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:250:15)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:28:32\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","service":"media-service","timestamp":"2025-08-20T11:08:47.657Z"}
{"level":"error","message":" Unknown Error uploading file: Multipart: Boundary not found","service":"media-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:38:16)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:16:9\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-08-20T11:12:03.764Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:250:15)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:28:32\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\middleware\\authMiddleware.js:17:13)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)","service":"media-service","timestamp":"2025-08-20T11:12:03.767Z"}
{"code":"LIMIT_UNEXPECTED_FILE","field":"mediaFile","level":"error","message":"Unexpected field","name":"MulterError","service":"media-service","stack":"MulterError: Unexpected field\n    at wrappedFileFilter (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\index.js:40:19)\n    at Multipart.<anonymous> (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:132:7)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)\n    at SBMH.push (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:572:12)","storageErrors":[],"timestamp":"2025-08-20T11:15:26.827Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Unhandled Rejection: Cannot set headers after they are sent to the client","service":"media-service","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\express\\lib\\response.js:250:15)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:19:36\n    at done (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:59:7)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:79:11\n    at removeUploadedFiles (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\remove-uploaded-files.js:5:28)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:75:9\n    at Counter.onceZero (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\counter.js:23:29)","timestamp":"2025-08-20T11:15:26.829Z"}
{"level":"error","message":"Error uploading media: uploadMediaToCloudinary is not defined","service":"media-service","stack":"ReferenceError: uploadMediaToCloudinary is not defined\n    at uploadMedia (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\controllers\\media-controller.js:19:40)\n    at Layer.handleRequest (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\routes\\media-routes.js:30:7\n    at done (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:59:7)\n    at indicateDone (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:63:68)\n    at Multipart.<anonymous> (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\multer\\lib\\make-middleware.js:187:7)\n    at Multipart.emit (node:events:518:28)\n    at emitCloseNT (node:internal/streams/destroy:148:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-08-20T11:20:15.536Z"}
{"_message":"Media validation failed","errors":{"originalName":{"kind":"required","message":"Path `originalName` is required.","name":"ValidatorError","path":"originalName","properties":{"message":"Path `originalName` is required.","path":"originalName","type":"required"}}},"level":"error","message":"Error uploading media: Media validation failed: originalName: Path `originalName` is required.","service":"media-service","stack":"ValidationError: Media validation failed: originalName: Path `originalName` is required.\n    at Document.invalidate (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-20T11:23:05.248Z"}
{"_message":"Media validation failed","errors":{"originalName":{"kind":"required","message":"Path `originalName` is required.","name":"ValidatorError","path":"originalName","properties":{"message":"Path `originalName` is required.","path":"originalName","type":"required"}}},"level":"error","message":"Error uploading media: Media validation failed: originalName: Path `originalName` is required.","service":"media-service","stack":"ValidationError: Media validation failed: originalName: Path `originalName` is required.\n    at Document.invalidate (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-20T11:24:32.942Z"}
{"level":"error","message":"Error while deleting media Media is not defined","service":"media-service","stack":"ReferenceError: Media is not defined\n    at handlePostDeleted (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\eventHandlers\\media-event-handlers.js:11:30)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\src\\utils\\rabbitmq.js:42:13\n    at Channel.dispatchMessage (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\amqplib\\lib\\channel.js:489:14)\n    at Channel.handleDelivery (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\amqplib\\lib\\channel.js:498:17)\n    at Channel.emit (node:events:518:28)\n    at C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\amqplib\\lib\\channel.js:395:10\n    at Channel.content [as handleMessage] (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\amqplib\\lib\\channel.js:448:9)\n    at Channel.acceptMessageFrame (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\amqplib\\lib\\channel.js:232:33)\n    at Channel.accept (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\amqplib\\lib\\channel.js:302:19)\n    at Connection.mainAccept [as accept] (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\amqplib\\lib\\connection.js:579:33)","timestamp":"2025-08-20T19:52:07.974Z"}
{"code":"ETIMEOUT","hostname":"_mongodb._tcp.cluster0.7ofsv.mongodb.net","level":"error","message":"Error connecting to MongoDB: querySrv ETIMEOUT _mongodb._tcp.cluster0.7ofsv.mongodb.net","service":"media-service","stack":"Error: querySrv ETIMEOUT _mongodb._tcp.cluster0.7ofsv.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"querySrv","timestamp":"2025-08-20T19:53:55.874Z"}
{"level":"error","message":"Error fetching media: Operation `media.find()` buffering timed out after 10000ms","service":"media-service","stack":"MongooseError: Operation `media.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-08-20T19:55:41.106Z"}
{"level":"error","message":"Error fetching media: Operation `media.find()` buffering timed out after 10000ms","service":"media-service","stack":"MongooseError: Operation `media.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-08-20T19:56:02.469Z"}
{"code":"ECONNRESET","errno":-4077,"level":"error","message":"Redis error: read ECONNRESET","service":"media-service","stack":"Error: read ECONNRESET\n    at TCP.onStreamRead (node:internal/stream_base_commons:216:20)","syscall":"read","timestamp":"2025-08-24T12:23:32.940Z"}
{"level":"error","message":"Redis error: Connection timeout","service":"media-service","stack":"Error: Connection timeout\n    at Socket.onTimeout (C:\\Users\\hp\\Desktop\\Social-Media-Microservice\\media-service\\node_modules\\@redis\\client\\dist\\lib\\client\\socket.js:180:46)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-08-24T12:23:37.948Z"}
{"_message":"Media validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Error uploading media: Media validation failed: userId: Path `userId` is required.","service":"media-service","stack":"ValidationError: Media validation failed: userId: Path `userId` is required.\n    at Document.invalidate (C:\\Users\\hp\\Desktop\\Football-fixer-reimagined\\Uni_Football_Fixer\\media-service\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\hp\\Desktop\\Football-fixer-reimagined\\Uni_Football_Fixer\\media-service\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\hp\\Desktop\\Football-fixer-reimagined\\Uni_Football_Fixer\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-29T11:58:51.378Z"}
{"_message":"Media validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Error uploading media: Media validation failed: userId: Path `userId` is required.","service":"media-service","stack":"ValidationError: Media validation failed: userId: Path `userId` is required.\n    at Document.invalidate (C:\\Users\\hp\\Desktop\\Football-fixer-reimagined\\Uni_Football_Fixer\\media-service\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\hp\\Desktop\\Football-fixer-reimagined\\Uni_Football_Fixer\\media-service\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\hp\\Desktop\\Football-fixer-reimagined\\Uni_Football_Fixer\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-29T11:59:18.356Z"}
{"level":"error","message":"Error uploading media: publishEvent is not defined","service":"media-service","stack":"ReferenceError: publishEvent is not defined\n    at uploadMedia (C:\\Users\\hp\\Desktop\\Football-fixer-reimagined\\Uni_Football_Fixer\\media-service\\src\\controllers\\media-controller.js:32:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-07T00:23:38.314Z"}
{"level":"error","message":"Error uploading media: looger is not defined","service":"media-service","stack":"ReferenceError: looger is not defined\n    at uploadMedia (C:\\Users\\hp\\Desktop\\Football-fixer-reimagined\\Uni_Football_Fixer\\media-service\\src\\controllers\\media-controller.js:38:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-07T00:58:39.822Z"}
